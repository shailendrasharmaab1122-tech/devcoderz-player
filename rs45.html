
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DevCoderz Ultra Smooth Player</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}
html,body{width:100%;height:100%;background:#000;overflow:hidden}

.player{position:fixed;inset:0;background:#000}
video{width:100%;height:100%;object-fit:contain}

/* TOP BRAND */
.top-brand{
 position:absolute;
 top:6px;
 left:50%;
 transform:translateX(-50%);
 z-index:20;
 text-align:center;
 pointer-events:none
}
.top-brand .jsr{
 color:#ff9800;
 font-weight:700;
 font-size:14px
}
.top-brand .dev{
 font-size:11px;
 color:#fff;
 opacity:.85
}

/* CENTER PLAY */
.center-play{
 position:absolute;inset:0;
 display:flex;align-items:center;justify-content:center;
 z-index:5;cursor:pointer
}
.center-play.hide{display:none}
.center-play span{
 width:84px;height:84px;
 background:rgba(255,255,255,.25);
 backdrop-filter:blur(4px);
 border-radius:50%;
 display:flex;align-items:center;justify-content:center;
 font-size:36px;color:#fff
}

/* CONTROLS */
.controls{
 position:absolute;bottom:0;width:100%;
 padding:10px;
 background:linear-gradient(transparent,rgba(0,0,0,.95));
 transition:.3s
}
.controls.hide{transform:translateY(100%);opacity:0}

.progress{
 height:7px;background:#555;border-radius:10px;
 position:relative;margin-bottom:6px
}
.progress-fill{height:100%;width:0;background:#2196f3;border-radius:10px}
.thumb{
 position:absolute;top:50%;
 width:18px;height:18px;background:#fff;
 border-radius:50%;
 transform:translate(-50%,-50%);
 left:0
}

.time{color:#fff;font-size:11px;text-align:right}

.row{
 display:flex;align-items:center;gap:6px;
 justify-content:space-between;color:#fff
}
.btn{
 width:36px;height:36px;
 border:1.5px solid #fff;border-radius:50%;
 display:flex;align-items:center;justify-content:center;
 cursor:pointer
}

/* PLAY ICON */
#play{font-size:0}
#play::before{
 content:"‚ñ∂";
 font-size:16px;margin-left:2px
}
#play.pause::before{
 content:"‚ùö‚ùö";
 margin-left:0
}

select{
 background:#000;color:#fff;
 border:1px solid #555;border-radius:4px;
 font-size:11px;height:26px
}

/* POPUPS */
.overlay{
 position:fixed;inset:0;
 background:rgba(0,0,0,.7);
 display:flex;align-items:center;justify-content:center;
 z-index:50
}

/* TELEGRAM PREMIUM */
.box{
 width:360px;
 padding:32px;
 border-radius:22px;
 text-align:center;
 background:linear-gradient(135deg,#1e3c72,#2a5298);
 box-shadow:0 0 40px rgba(42,82,152,.6);
 color:#fff
}
.box h2{margin-bottom:10px}
.box p{opacity:.9}
.box a,.box button{
 margin-top:16px;
 padding:14px;
 border-radius:28px;
 border:none;font-weight:700;
 display:block;width:100%
}
.join{background:#fff;color:#1e3c72;text-decoration:none}
.continue{background:rgba(0,0,0,.25);color:#fff;border:1px solid #fff}

/* TAP TO PLAY */
.tap-play{display:none}
.tap-play span{
 background:rgba(0,0,0,.75);
 padding:16px 28px;
 border-radius:30px;
 color:#fff;font-size:18px
}
</style>
</head>

<body>

<!-- TELEGRAM POPUP -->
<div class="overlay" id="tgPopup">
 <div class="box">
  <h2>Join our Telegram</h2>
  <p>Click below to join premium channel</p>
  <a class="join" href="https://t.me/+JXdxtVzQf-NhM2Jl" target="_blank">
   Click here to join the Telegram channel
  </a>
  <button class="continue" id="continueBtn">Continue to Video</button>
 </div>
</div>

<!-- TAP TO PLAY -->
<div class="overlay tap-play" id="tapPlay">
 <span>‚ñ∂ Tap to play video</span>
</div>

<div class="player" id="player">

<video id="video" playsinline></video>

<!-- BRAND -->
<div class="top-brand">
 <div class="jsr">üö© Jai Shree Ram üö©</div>
 <div class="dev">Developed by Devansh Sharma</div>
</div>

<div class="center-play hide" id="centerPlay">
 <span>‚ñ∂</span>
</div>

<div class="controls hide" id="controls">
 <div class="progress" id="progress">
  <div class="progress-fill" id="bar"></div>
  <div class="thumb" id="thumb"></div>
 </div>

 <div class="time" id="time">00:00:00 / 00:00:00</div>

 <div class="row">
  <div class="btn" id="back">‚ü≤10</div>
  <div class="btn" id="play"></div>
  <div class="btn" id="fwd">10‚ü≥</div>

  <select id="speed">
   <option>0.5</option><option>0.75</option>
   <option selected>1</option><option>1.25</option>
   <option>1.5</option><option>2</option>
   <option>2.25</option><option>2.5</option>
   <option>2.75</option><option>3</option>
  </select>

  <select id="quality"><option value="-1">AUTO</option></select>

  <div class="btn" id="fs">‚õ∂</div>
 </div>
</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
const v = video,
player = document.getElementById("player"),
controls = document.getElementById("controls"),
centerPlay = document.getElementById("centerPlay"),
bar = document.getElementById("bar"),
thumb = document.getElementById("thumb"),
progress = document.getElementById("progress"),
timeEl = document.getElementById("time"),
playBtn = document.getElementById("play"),
back = document.getElementById("back"),
fwd = document.getElementById("fwd"),
speed = document.getElementById("speed"),
quality = document.getElementById("quality"),
fs = document.getElementById("fs"),
tgPopup = document.getElementById("tgPopup"),
continueBtn = document.getElementById("continueBtn"),
tapPlay = document.getElementById("tapPlay");

let hls, dragging=false, seekPercent=0;
const url = new URLSearchParams(location.search).get("Url");

/* TIME FORMAT HH:MM:SS */
function fmt(t){
 if(isNaN(t)) return "00:00:00";
 let h=Math.floor(t/3600),
     m=Math.floor((t%3600)/60),
     s=Math.floor(t%60);
 return String(h).padStart(2,"0")+":"+
        String(m).padStart(2,"0")+":"+
        String(s).padStart(2,"0");
}

/* LOAD VIDEO */
if(Hls.isSupported() && url){
 hls=new Hls();
 hls.loadSource(decodeURIComponent(url));
 hls.attachMedia(v);
 hls.on(Hls.Events.MANIFEST_PARSED,()=>{
  quality.innerHTML='<option value="-1">AUTO</option>';
  hls.levels.forEach((l,i)=>{
   if(l.height<=1080){
    let o=document.createElement("option");
    o.value=i;o.text=l.height+"p";
    quality.appendChild(o);
   }
  });
 });
}else if(url){
 v.src=decodeURIComponent(url);
}

/* POPUP FLOW */
continueBtn.onclick=()=>{
 tgPopup.style.display="none";
 tapPlay.style.display="flex";
};
tapPlay.onclick=()=>{
 tapPlay.style.display="none";
 centerPlay.classList.remove("hide");
};

/* CENTER PLAY */
centerPlay.onclick=()=>{
 centerPlay.classList.add("hide");
 v.play();
};

/* PLAY PAUSE */
playBtn.onclick=()=>v.paused?v.play():v.pause();
v.onplay=()=>{
 playBtn.classList.add("pause");
 centerPlay.classList.add("hide");
};
v.onpause=()=>{
 playBtn.classList.remove("pause");
 centerPlay.classList.remove("hide");
};

/* CONTROLS AUTO HIDE */
function showControls(){
 controls.classList.remove("hide");
 clearTimeout(window.ht);
 window.ht=setTimeout(()=>controls.classList.add("hide"),2000);
}
player.onclick=showControls;

/* BACK / FWD */
back.onclick=()=>v.currentTime=Math.max(0,v.currentTime-10);
fwd.onclick=()=>v.currentTime=Math.min(v.duration,v.currentTime+10);

/* SPEED / QUALITY */
speed.onchange=e=>v.playbackRate=parseFloat(e.target.value);
quality.onchange=e=>hls&&(hls.currentLevel=parseInt(e.target.value));

/* PROGRESS + REAL THUMB DRAG */
function percentFromX(x){
 const r=progress.getBoundingClientRect();
 return Math.min(Math.max((x-r.left)/r.width,0),1);
}

progress.addEventListener("mousedown",e=>{
 dragging=true;v.pause();
 seekPercent=percentFromX(e.clientX);
 bar.style.width=thumb.style.left=seekPercent*100+"%";
});
window.addEventListener("mousemove",e=>{
 if(!dragging) return;
 seekPercent=percentFromX(e.clientX);
 bar.style.width=thumb.style.left=seekPercent*100+"%";
});
window.addEventListener("mouseup",()=>{
 if(!dragging) return;
 dragging=false;
 v.currentTime=seekPercent*v.duration;
 v.play();
});

/* TOUCH */
progress.addEventListener("touchstart",e=>{
 dragging=true;v.pause();
 seekPercent=percentFromX(e.touches[0].clientX);
 bar.style.width=thumb.style.left=seekPercent*100+"%";
},{passive:true});
window.addEventListener("touchmove",e=>{
 if(!dragging) return;
 seekPercent=percentFromX(e.touches[0].clientX);
 bar.style.width=thumb.style.left=seekPercent*100+"%";
},{passive:true});
window.addEventListener("touchend",()=>{
 if(!dragging) return;
 dragging=false;
 v.currentTime=seekPercent*v.duration;
 v.play();
});

/* TIME UPDATE */
v.ontimeupdate=()=>{
 if(dragging||!v.duration) return;
 let p=v.currentTime/v.duration*100;
 bar.style.width=thumb.style.left=p+"%";
 timeEl.textContent=`${fmt(v.currentTime)} / ${fmt(v.duration)}`;
};

/* FULLSCREEN */
fs.onclick=()=>{
 !document.fullscreenElement?
 player.requestFullscreen():
 document.exitFullscreen();
};
</script>

</body>
</html>
