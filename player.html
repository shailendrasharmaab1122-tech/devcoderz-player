// URL parameter ko automatically detect karega
function getVideoURL() {
    const params = new URLSearchParams(window.location.search);

    // Sabhi possible keys allow:
    const keys = ["url", "Url", "URL", "u", "U", "video", "Video", "VIDEO"];

    for (const key of keys) {
        if (params.has(key)) {
            return params.get(key);
        }
    }
    return null;
}

const videoURL = getVideoURL();

if (!videoURL) {
    alert("No video URL found. Please use ?url=YOUR_M3U8_LINK");
} else {
    // Hls.js player load karega
    const video = document.getElementById("videoPlayer");

    if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(videoURL);
        hls.attachMedia(video);
    } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
        video.src = videoURL;
    }
}