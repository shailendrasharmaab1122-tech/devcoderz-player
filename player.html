<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Devansh Player</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}
html,body{width:100%;height:100%;background:#000;overflow:hidden}
.player{position:fixed;inset:0;background:#000}
video{width:100%;height:100%;object-fit:contain;background:#000}

/* TOP TEXT */
.top-brand{
  position:absolute;
  top:8px;
  left:50%;
  transform:translateX(-50%);
  text-align:center;
  z-index:10;
  pointer-events:none;
}
.jsr{
  color:#ff9800;
  font-weight:700;
  text-shadow:0 0 8px #ff9800,0 0 15px #ff5722;
}
.dev{
  font-size:13px;
  color:#fff;
  text-shadow:0 0 6px #2196f3;
}

/* CONTROLS */
.controls{
  position:absolute;
  bottom:0;
  width:100%;
  padding:12px;
  background:linear-gradient(transparent,rgba(0,0,0,.85));
  transition:.25s;
}
.controls.hide{opacity:0;pointer-events:none}

.progress{
  height:6px;
  background:#444;
  border-radius:10px;
  cursor:pointer;
  position:relative;
}
.progress-fill{
  height:100%;
  width:0%;
  background:#2196f3;
  border-radius:10px;
}
.thumb{
  position:absolute;
  top:50%;
  transform:translate(-50%,-50%);
  width:16px;height:16px;
  background:#fff;
  border-radius:50%;
}

.time{
  color:#fff;
  font-size:12px;
  margin-top:4px;
  text-align:right;
}

.row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:8px;
  color:#fff;
}

.btn{
  width:48px;height:48px;
  border:2px solid #fff;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:18px;
}
</style>
</head>

<body>

<div class="player" id="player">
  <video id="video" playsinline webkit-playsinline></video>

  <div class="top-brand">
    <div class="jsr">ðŸš© Jai Shree Ram ðŸš©</div>
    <div class="dev">Developed by Devansh Sharma</div>
  </div>

  <div class="controls hide" id="controls">
    <div class="progress" id="progress">
      <div class="progress-fill" id="progressBar"></div>
      <div class="thumb" id="thumb"></div>
    </div>
    <div class="time" id="time">00:00:00</div>

    <div class="row">
      <div class="btn" id="back10">âŸ²10</div>
      <div class="btn" id="playPause">â–¶</div>
      <div class="btn" id="fwd10">10âŸ³</div>
      <div class="btn" id="fs">â›¶</div>
    </div>
  </div>
</div>

<script>
/* SERVICE WORKER */
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}

const video = document.getElementById("video");
const player = document.getElementById("player");
const controls = document.getElementById("controls");
const playPause = document.getElementById("playPause");
const back10 = document.getElementById("back10");
const fwd10 = document.getElementById("fwd10");
const fs = document.getElementById("fs");
const progress = document.getElementById("progress");
const bar = document.getElementById("progressBar");
const thumb = document.getElementById("thumb");
const timeEl = document.getElementById("time");

/* LOAD VIDEO */
const url = new URLSearchParams(location.search).get("Url");
if(url){
  video.src = decodeURIComponent(url);
  video.muted = false;
}

/* PLAY PAUSE */
playPause.onclick = () => video.paused ? video.play() : video.pause();
video.onplay = ()=> playPause.textContent="â¸";
video.onpause = ()=> playPause.textContent="â–¶";

/* TIME */
function fmt(t){
  let h = Math.floor(t/3600);
  let m = Math.floor((t%3600)/60);
  let s = Math.floor(t%60);
  return [h,m,s].map(v=>v.toString().padStart(2,"0")).join(":");
}

video.ontimeupdate = ()=>{
  if(video.duration){
    let p = (video.currentTime/video.duration)*100;
    bar.style.width = p+"%";
    thumb.style.left = p+"%";
  }
  timeEl.textContent = fmt(video.currentTime);
};

/* SEEK */
progress.onclick = e=>{
  let r = progress.getBoundingClientRect();
  let pct = (e.clientX-r.left)/r.width;
  video.currentTime = pct*video.duration;
};

/* DOUBLE TAP */
player.ondblclick = e=>{
  let w = player.clientWidth;
  e.clientX > w/2 ? video.currentTime+=10 : video.currentTime-=10;
};

/* BUTTONS */
back10.onclick = e=>{e.stopPropagation();video.currentTime-=10;}
fwd10.onclick = e=>{e.stopPropagation();video.currentTime+=10;}

/* CONTROLS TOGGLE */
let show=false;
player.onclick = ()=>{
  show=!show;
  controls.classList.toggle("hide",!show);
};

/* FULLSCREEN */
fs.onclick = ()=>{
  if(!document.fullscreenElement) player.requestFullscreen();
  else document.exitFullscreen();
};
</script>
</body>
</html>