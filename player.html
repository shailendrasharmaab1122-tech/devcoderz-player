<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>DevCoderz Ultra smooth Player</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}
html,body{width:100%;height:100%;background:#000;overflow:hidden}

.player{position:fixed;inset:0;background:#000}
video{width:100%;height:100%;object-fit:contain;background:#000}

/* TOP */
.top-brand{
 position:absolute;top:8px;left:50%;
 transform:translateX(-50%);
 z-index:10;pointer-events:none;text-align:center
}
.jsr{color:#ff9800;font-weight:700;text-shadow:0 0 10px #ff9800}
.dev{font-size:12px;color:#fff}

/* CONTROLS */
.controls{
 position:absolute;bottom:0;width:100%;
 padding:12px;
 background:linear-gradient(transparent,rgba(0,0,0,.85));
 transition:.25s
}
.controls.hide{opacity:0;pointer-events:none}

.progress{
 height:6px;background:#444;border-radius:10px;
 position:relative;cursor:pointer
}
.progress-fill{
 height:100%;width:0%;
 background:#2196f3;border-radius:10px
}
.thumb{
 position:absolute;top:50%;
 transform:translate(-50%,-50%);
 width:14px;height:14px;
 background:#fff;border-radius:50%;
 left:0%
}

.time{color:#fff;font-size:12px;margin-top:6px;text-align:right}

.row{
 display:flex;justify-content:space-between;
 align-items:center;margin-top:8px;color:#fff
}
.btn{
 width:46px;height:46px;border:2px solid #fff;
 border-radius:50%;display:flex;
 justify-content:center;align-items:center;font-size:18px
}
.btn.disabled{opacity:.3}
</style>
</head>

<body>

<div class="player" id="player">
  <!-- ðŸ”‘ muted + autoplay -->
  <video id="video" playsinline webkit-playsinline muted autoplay></video>

  <div class="top-brand">
    <div class="jsr">ðŸš© Jai Shree Ram ðŸš©</div>
    <div class="dev">Developed by Devansh Sharma</div>
  </div>

  <div class="controls hide" id="controls">
    <div class="progress" id="progress">
      <div class="progress-fill" id="bar"></div>
      <div class="thumb" id="thumb"></div>
    </div>
    <div class="time" id="time">00:00 / 00:00</div>

    <div class="row">
      <div class="btn" id="back">âŸ²10</div>
      <div class="btn" id="play">â–¶</div>
      <div class="btn" id="fwd">10âŸ³</div>
      <div class="btn" id="fs">â›¶</div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
const video=document.getElementById("video");
const player=document.getElementById("player");
const controls=document.getElementById("controls");
const play=document.getElementById("play");
const back=document.getElementById("back");
const fwd=document.getElementById("fwd");
const fs=document.getElementById("fs");
const bar=document.getElementById("bar");
const thumb=document.getElementById("thumb");
const timeEl=document.getElementById("time");
const progress=document.getElementById("progress");

const url=new URLSearchParams(location.search).get("Url");
let isLive=false,drag=false;

/* FORMAT */
function fmt(t){
 let h=Math.floor(t/3600),
     m=Math.floor((t%3600)/60),
     s=Math.floor(t%60);
 return h>0
  ? [h,m,s].map(x=>x.toString().padStart(2,"0")).join(":")
  : [m,s].map(x=>x.toString().padStart(2,"0")).join(":");
}

/* LOAD */
if(Hls.isSupported() && url){
 const hls=new Hls({lowLatencyMode:true});
 hls.loadSource(decodeURIComponent(url));
 hls.attachMedia(video);

 hls.on(Hls.Events.MANIFEST_PARSED,()=>{
  video.play().catch(()=>{});
 });

 hls.on(Hls.Events.LEVEL_LOADED,(_,d)=>{
  isLive=d.details.live;
  if(isLive){
   timeEl.textContent="ðŸ”´ LIVE";
   back.classList.add("disabled");
   fwd.classList.add("disabled");
  }
 });
}else if(url){
 video.src=decodeURIComponent(url);
 video.addEventListener("loadedmetadata",()=>{
  video.play().catch(()=>{});
 });
}

/* PLAY / UNMUTE */
play.onclick=()=>{
 video.muted=false;
 video.paused?video.play():video.pause();
};
video.onplay=()=>play.textContent="â¸";
video.onpause=()=>play.textContent="â–¶";

/* TIME UPDATE */
video.ontimeupdate=()=>{
 if(isLive||!video.duration||drag) return;
 let p=(video.currentTime/video.duration)*100;
 bar.style.width=p+"%";
 thumb.style.left=p+"%";
 timeEl.textContent=`${fmt(video.currentTime)} / ${fmt(video.duration)}`;
};

/* SEEK */
function seek(e){
 if(isLive||!video.duration) return;
 const r=progress.getBoundingClientRect();
 const p=Math.min(Math.max((e.clientX-r.left)/r.width,0),1);
 video.currentTime=p*video.duration;
}

progress.onmousedown=e=>{drag=true;seek(e);}
window.onmousemove=e=>drag&&seek(e);
window.onmouseup=()=>drag=false;

/* +/- 10 SEC */
back.onclick=()=>!isLive&&(video.currentTime-=10);
fwd.onclick=()=>!isLive&&(video.currentTime+=10);

/* SHOW CONTROLS */
let show=false;
player.onclick=()=>{
 show=!show;
 controls.classList.toggle("hide",!show);
};

/* FULLSCREEN */
fs.onclick=()=>{
 !document.fullscreenElement
 ? player.requestFullscreen()
 : document.exitFullscreen();
};
</script>

</body>
</html>