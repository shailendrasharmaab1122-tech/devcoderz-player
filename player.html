<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Devcoderz Player</title>

<style>

    body {
        margin: 0;
        background: #000;
        font-family: 'Arial Black', sans-serif;
    }

    /* BIG HEADER */
    #header {
        position: fixed;
        top: 0;
        width: 100%;
        text-align: center;
        padding: 18px 0;
        background: linear-gradient(to right, #000000aa, #000000ee, #000000aa);
        color: #00e5ff;
        font-size: 40px;
        font-weight: 900;
        letter-spacing: 3px;
        text-shadow: 0px 0px 10px #00e5ff, 0px 0px 20px #00e5ff;
        z-index: 9999;
        border-bottom: 2px solid #00e5ff55;
    }

    /* VIDEO */
    video {
        width: 100vw;
        height: 100vh;
        margin-top: 100px;
        background: black;
    }

    /* Control Panel */
    #controls {
        position: fixed;
        top: 80px;
        right: 10px;
        z-index: 99999;
        background: #000000cc;
        padding: 10px;
        border-radius: 10px;
        color: white;
        font-size: 14px;
    }

    select {
        padding: 5px;
        background: #111;
        color: cyan;
        border: 1px solid cyan;
        border-radius: 6px;
        font-weight: bold;
        margin-bottom: 6px;
        width: 120px;
    }

</style>
</head>

<body>

<!-- HEADER -->
<div id="header">DEVANSH X Anuj </div>

<!-- Controls -->
<div id="controls">
    <label>Quality:</label><br>
    <select id="qualitySelect">
        <option value="auto">AUTO</option>
        <option value="280">280p</option>
        <option value="480">480p</option>
        <option value="720">720p</option>
 <option value="1080">1080p</option>

   
 </select>
    <br>

    <label>Speed:</label><br>
    <select id="speedSelect">
        <option value="1">1x</option>
        <option value="1.5">1.5x</option>
        <option value="2">2x</option>
        <option value="2.5">2.5x</option>
        <option value="3">3x</option>
        <option value="3.5">3.5x</option>
        <option value="4">4x</option>
    </select>
</div>

<video id="v" controls></video>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
const video = document.getElementById("v");
const url = new URLSearchParams(window.location.search).get("Url");
const qualitySelect = document.getElementById("qualitySelect");
const speedSelect = document.getElementById("speedSelect");

let hls;

function loadPlayer(level) {
    if (hls) {
        hls.destroy();
    }

    hls = new Hls({
        startLevel: level
    });

    hls.loadSource(url);
    hls.attachMedia(video);
}

if (Hls.isSupported()) {

    hls = new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);

    hls.on(Hls.Events.MANIFEST_PARSED, () => {
        video.play();
    });

    // Change Quality
    qualitySelect.addEventListener("change", () => {
        let q = qualitySelect.value;

        if (q === "auto") {
            hls.currentLevel = -1;
        } else {
            if (q === "280") hls.currentLevel = 0;
            if (q === "480") hls.currentLevel = 1;
            if (q === "720") hls.currentLevel = 2;
        }
    });

} else {
    video.src = url;
    video.play();
}

// SPEED CONTROL
speedSelect.addEventListener("change", () => {
    video.playbackRate = speedSelect.value;
});
</script>

</body>
</html>