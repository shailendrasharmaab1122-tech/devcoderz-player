<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DevCoderz Player</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3/dist/plyr.css" />

<style>
    body {
        margin: 0;
        background: #000;
        font-family: Arial;
    }

    #player-container {
        width: 100%;
        height: 65vh;
        background: black;
        position: relative;
    }

    .below-info {
        padding: 15px;
        color: white;
        text-align: center;
    }

    .telegram {
        text-decoration: none;
        color: #00eaff;
        font-size: 18px;
        font-weight: bold;
    }

    .credit {
        margin-top: 10px;
        font-size: 16px;
        opacity: 0.8;
    }

    .ram {
        margin-top: 20px;
        font-size: 28px;
        font-weight: bold;
        color: red;
        text-shadow: 0 0 15px red, 0 0 30px yellow;
        animation: glow 1s infinite alternate;
    }

    @keyframes glow {
        from { text-shadow: 0 0 10px red; }
        to { text-shadow: 0 0 25px yellow; }
    }

    /* Quality / Speed Menu */
    .menu-box {
        background: #111;
        padding: 10px;
        margin: 10px auto;
        width: 90%;
        border-radius: 10px;
        color: #fff;
        text-align: center;
    }

    .menu-box button {
        margin: 5px;
        padding: 8px 15px;
        background: #333;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 15px;
    }
</style>
</head>

<body>

<div id="player-container">
    <video id="player" controls playsinline></video>
</div>

<!-- Quality Menu -->
<div class="menu-box">
    <div><b>üì∫ Quality</b></div>
    <button onclick="setQuality('auto')">Auto</button>
    <button onclick="setQuality(1080)">1080p</button>
    <button onclick="setQuality(720)">720p</button>
    <button onclick="setQuality(480)">480p</button>
    <button onclick="setQuality(360)">360p</button>
    <button onclick="setQuality(240)">240p</button>
</div>

<!-- Speed Menu -->
<div class="menu-box">
    <div><b>‚ö° Speed</b></div>
    <button onclick="setSpeed(0.5)">0.5x</button>
    <button onclick="setSpeed(1)">1x</button>
    <button onclick="setSpeed(1.5)">1.5x</button>
    <button onclick="setSpeed(2)">2x</button>
    <button onclick="setSpeed(2.25)">2.25x</button>
    <button onclick="setSpeed(2.5)">2.5x</button>
</div>

<!-- Info section -->
<div class="below-info">
    <a class="telegram" href="https://t.me/DevCoderz" target="_blank">üëâ Click here to Join Telegram Channel</a>

    <div class="credit">Developer ‚Äî PT. Devansh Sharma</div>

    <div class="ram">üî• ‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ üî•</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/plyr@3"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
    const url = new URLSearchParams(location.search).get("Url");
    const video = document.getElementById("player");

    let hls; // global

    const player = new Plyr(video, {
        controls: [
            'play', 'progress', 'current-time',
            'mute', 'volume', 'fullscreen'
        ],
    });

    // Load HLS
    function loadVideo(source) {
        if (Hls.isSupported()) {
            if (hls) hls.destroy();
            hls = new Hls({ startLevel: -1 });
            hls.loadSource(source);
            hls.attachMedia(video);
        } else {
            video.src = source;
        }
    }

    loadVideo(url);

    // Quality Control
    function setQuality(q) {
        if (!hls) return;

        if (q === "auto") {
            hls.currentLevel = -1;
            alert("Auto Quality Enabled");
        } else {
            // find level index
            let levelIndex = hls.levels.findIndex(l => l.height === q);
            if (levelIndex !== -1) {
                hls.currentLevel = levelIndex;
                alert(q + "p Selected");
            } else {
                alert("This quality not available for this video");
            }
        }
    }

    // Speed Control
    function setSpeed(s) {
        player.speed = s;
    }
</script>

</body>
</html>