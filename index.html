<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DevCoderz Ultra smooth URL Player</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}
html,body{width:100%;height:100%;background:#000;overflow:hidden}

.player{position:fixed;inset:0;background:#000}
video{width:100%;height:100%;object-fit:contain;background:#000}

/* TOP BRAND */
.top-brand{
 position:absolute;top:6px;left:50%;
 transform:translateX(-50%);
 z-index:10;pointer-events:none;text-align:center
}
.jsr{color:#ff9800;font-weight:700;font-size:14px}
.dev{font-size:11px;color:#fff}

/* UNMUTE OVERLAY */
.unmute{
 position:absolute;inset:0;
 display:flex;align-items:center;justify-content:center;
 background:rgba(0,0,0,.45);
 color:#fff;font-size:16px;
 z-index:20;cursor:pointer
}
.unmute.hide{display:none}

/* CONTROLS */
.controls{
 position:absolute;bottom:0;width:100%;
 padding:8px 10px;
 background:linear-gradient(transparent,rgba(0,0,0,.9));
 transition:.25s
}
.controls.hide{opacity:0;pointer-events:none}

.progress{
 height:6px;background:#444;border-radius:10px;
 position:relative;cursor:pointer
}
.progress-fill{height:100%;width:0;background:#2196f3;border-radius:10px}
.thumb{
 position:absolute;top:50%;left:0;
 transform:translate(-50%,-50%);
 width:16px;height:16px;
 background:#fff;border-radius:50%
}

.time{color:#fff;font-size:11px;text-align:right;margin:4px 0}

.row{
 display:flex;align-items:center;gap:6px;
 justify-content:space-between;color:#fff
}

.btn{
 width:36px;height:36px;
 border:1.5px solid #fff;
 border-radius:50%;
 display:flex;align-items:center;
 justify-content:center;font-size:14px
}
.btn.disabled{opacity:.35}

select,input[type=range]{
 background:#000;color:#fff;
 border:1px solid #555;
 border-radius:4px;
 font-size:11px;height:26px
}
.range{width:70px}
select{padding:2px}
</style>
</head>

<body>

<div class="player" id="player">

  <video id="video" autoplay muted playsinline></video>

  <div class="unmute" id="unmute">ðŸ”Š Tap to Unmute</div>

  <div class="top-brand">
    <div class="jsr">ðŸš© Jai Shree Ram ðŸš©</div>
    <div class="dev">Developed by Devansh Sharma</div>
  </div>

  <div class="controls hide" id="controls">
    <div class="progress" id="progress">
      <div class="progress-fill" id="bar"></div>
      <div class="thumb" id="thumb"></div>
    </div>

    <div class="time" id="time">00:00 / 00:00</div>

    <div class="row">
      <div class="btn" id="back">âŸ²10</div>
      <div class="btn" id="play">â–¶</div>
      <div class="btn" id="fwd">10âŸ³</div>

      <input type="range" min="0" max="1" step="0.05" value="1"
       id="volume" class="range">

      <select id="speed">
        <option>0.5</option><option>0.75</option>
        <option selected>1</option>
        <option>1.25</option><option>1.5</option>
        <option>1.75</option><option>2</option>
        <option>2.25</option><option>2.5</option>
        <option>2.75</option><option>3</option>
      </select>

      <select id="quality">
        <option value="-1">AUTO</option>
      </select>

      <div class="btn" id="fs">â›¶</div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
const v = document.getElementById("video"),
player = document.getElementById("player"),
controls = document.getElementById("controls"),
unmute = document.getElementById("unmute"),
bar = document.getElementById("bar"),
thumb = document.getElementById("thumb"),
progress = document.getElementById("progress"),
timeEl = document.getElementById("time"),
play = document.getElementById("play"),
back = document.getElementById("back"),
fwd = document.getElementById("fwd"),
volume = document.getElementById("volume"),
speed = document.getElementById("speed"),
quality = document.getElementById("quality"),
fs = document.getElementById("fs");

const url = new URLSearchParams(location.search).get("Url");
let hls,isLive=false,dragging=false,seekPercent=0;

/* FORMAT */
function fmt(t){
 let h=Math.floor(t/3600),
 m=Math.floor((t%3600)/60),
 s=Math.floor(t%60);
 return h?`${h}:${m.toString().padStart(2,0)}:${s.toString().padStart(2,0)}`
         :`${m}:${s.toString().padStart(2,0)}`;
}

/* LOAD VIDEO */
if(Hls.isSupported() && url){
 hls=new Hls({lowLatencyMode:true});
 hls.loadSource(decodeURIComponent(url));
 hls.attachMedia(v);

 hls.on(Hls.Events.MANIFEST_PARSED,()=>v.play().catch(()=>{}));

 hls.on(Hls.Events.LEVEL_LOADED,(_,d)=>{
  isLive=d.details.live;
  if(isLive){
   timeEl.textContent="ðŸ”´ LIVE";
   back.classList.add("disabled");
   fwd.classList.add("disabled");
   speed.disabled=true;
  }
 });

 hls.on(Hls.Events.MANIFEST_PARSED,()=>{
  quality.innerHTML='<option value="-1">AUTO</option>';
  hls.levels.forEach((l,i)=>{
   let o=document.createElement("option");
   o.value=i;o.text=l.height+"p";
   quality.appendChild(o);
  });
 });
}else if(url){
 v.src=decodeURIComponent(url);
 v.onloadedmetadata=()=>v.play().catch(()=>{});
}

/* REAL AUDIO UNLOCK */
unmute.onclick=()=>{
 v.muted=false;
 v.volume=volume.value;
 v.play();
 unmute.classList.add("hide");
};

/* PLAY */
play.onclick=()=>{
 if(v.muted){
  unmute.classList.remove("hide");
  return;
 }
 v.paused?v.play():v.pause();
};
v.onplay=()=>play.textContent="â¸";
v.onpause=()=>play.textContent="â–¶";

/* VOLUME */
volume.oninput=e=>{
 v.volume=e.target.value;
 v.muted=(v.volume==0);
};

/* TIME UPDATE */
v.ontimeupdate=()=>{
 if(isLive||!v.duration||dragging) return;
 let p=(v.currentTime/v.duration)*100;
 bar.style.width=p+"%";
 thumb.style.left=p+"%";
 timeEl.textContent=`${fmt(v.currentTime)} / ${fmt(v.duration)}`;
};

/* SMOOTH DRAG SEEK */
function percentFromX(x){
 const r=progress.getBoundingClientRect();
 return Math.min(Math.max((x-r.left)/r.width,0),1)*100;
}
function startDrag(x){
 if(isLive||!v.duration) return;
 dragging=true;
 v.pause();
 seekPercent=percentFromX(x);
 bar.style.width=seekPercent+"%";
 thumb.style.left=seekPercent+"%";
}
function moveDrag(x){
 if(!dragging) return;
 seekPercent=percentFromX(x);
 bar.style.width=seekPercent+"%";
 thumb.style.left=seekPercent+"%";
}
function endDrag(){
 if(!dragging) return;
 dragging=false;
 v.currentTime=(seekPercent/100)*v.duration;
 v.play();
}

/* mouse */
progress.addEventListener("mousedown",e=>startDrag(e.clientX));
window.addEventListener("mousemove",e=>moveDrag(e.clientX));
window.addEventListener("mouseup",endDrag);

/* touch */
progress.addEventListener("touchstart",e=>startDrag(e.touches[0].clientX));
window.addEventListener("touchmove",e=>moveDrag(e.touches[0].clientX));
window.addEventListener("touchend",endDrag);

/* +/- 10s */
back.onclick=()=>!isLive&&(v.currentTime-=10);
fwd.onclick=()=>!isLive&&(v.currentTime+=10);

/* SPEED */
speed.onchange=e=>v.playbackRate=parseFloat(e.target.value);

/* QUALITY */
quality.onchange=e=>{
 if(hls) hls.currentLevel=parseInt(e.target.value);
};

/* FULLSCREEN */
fs.onclick=()=>{
 !document.fullscreenElement?player.requestFullscreen():document.exitFullscreen();
};

/* SHOW CONTROLS */
let show=false;
player.onclick=()=>{
 show=!show;
 controls.classList.toggle("hide",!show);
};
</script>

</body>
</html>