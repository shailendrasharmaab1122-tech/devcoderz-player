<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Devansh Player</title>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
*{
  margin:0;padding:0;box-sizing:border-box;
  -webkit-user-select:none;user-select:none;
  -webkit-tap-highlight-color:transparent;
  font-family:Arial,sans-serif;
}
body{
  background:#000;height:100vh;
  display:flex;justify-content:center;align-items:center;
}
.player{
  position:relative;
  width:100%;max-width:900px;
  background:#000;overflow:hidden;
}
video{
  width:100%;height:100%;
  background:#000;
  object-fit:contain;
}

/* TOP BRAND */
.top-brand{
  position:absolute;top:8px;left:50%;
  transform:translateX(-50%);
  z-index:10;text-align:center;pointer-events:none;
}
.jsr{
  color:#ff9800;font-weight:bold;
  text-shadow:0 0 10px #ff9800,0 0 20px #ff5722;
}
.dev{
  font-size:13px;color:#fff;
  text-shadow:0 0 8px #2196f3;
}

/* BIG PLAY */
.big-play{
  position:absolute;inset:0;
  display:flex;justify-content:center;align-items:center;
  z-index:9;cursor:pointer;
}
.big-play.hide{display:none}
.big-play div{
  width:90px;height:90px;border-radius:50%;
  background:#e53935;color:#fff;
  display:flex;justify-content:center;align-items:center;
  font-size:40px;
  box-shadow:0 0 35px #e53935;
}

/* CONTROLS */
.controls{
  position:absolute;bottom:0;width:100%;
  padding:12px;
  background:linear-gradient(transparent,rgba(0,0,0,.9));
  transition:.25s;
}
.controls.hide{opacity:0;pointer-events:none}

/* PROGRESS */
.progress{
  position:relative;height:6px;
  background:#555;border-radius:10px;
}
.fill{
  height:100%;width:0%;
  background:#2196f3;border-radius:10px;
}
.thumb{
  position:absolute;top:50%;
  transform:translate(-50%,-50%);
  width:16px;height:16px;border-radius:50%;
  background:#fff;box-shadow:0 0 10px #2196f3;
}

/* TIMER */
.timer{
  position:absolute;right:0;top:-22px;
  font-size:12px;color:#fff;
}

/* ROW */
.row{
  display:flex;justify-content:space-between;
  align-items:center;margin-top:10px;
  color:#fff;gap:6px;
}
.circle,.fsbtn,.onoff{
  width:50px;height:50px;
  border:3px solid #fff;border-radius:50%;
  display:flex;justify-content:center;align-items:center;
  cursor:pointer;font-weight:bold;
}
.circle:active,.fsbtn:active,.onoff:active{transform:scale(.9)}

select{
  background:#000;color:#fff;
  border:1px solid #777;border-radius:4px;
}
</style>
</head>

<body>

<div class="player" id="player">
  <video id="video" playsinline webkit-playsinline></video>

  <div class="top-brand">
    <div class="jsr">ðŸš© Jai Shree Ram ðŸš©</div>
    <div class="dev">Developed by Devansh Sharma</div>
  </div>

  <div class="big-play" id="bigPlay">
    <div>â–¶</div>
  </div>

  <div class="controls hide" id="controls">
    <div class="progress" id="progress">
      <div class="fill" id="fill"></div>
      <div class="thumb" id="thumb"></div>
      <div class="timer" id="timer">00:00:00 / 00:00:00</div>
    </div>

    <div class="row">
      <div class="circle" id="back10">âŸ²10</div>

      <select id="speed">
        <option>0.5</option><option selected>1</option>
        <option>1.25</option><option>1.5</option>
        <option>2</option><option>2.25</option>
        <option>2.5</option><option>2.75</option>
        <option>3</option>
      </select>

      <div class="onoff" id="playPause">â–¶</div>

      <select>
        <option selected>Auto</option>
        <option>144p</option><option>240p</option>
        <option>360p</option><option>480p</option>
        <option>720p</option><option>1080p</option>
      </select>

      <div class="fsbtn" id="fsBtn">â›¶</div>

      <div class="circle" id="fwd10">10âŸ³</div>
    </div>
  </div>
</div>

<script>
document.addEventListener("contextmenu",e=>e.preventDefault());

const video=document.getElementById("video");
const url=new URLSearchParams(location.search).get("Url");

if(Hls.isSupported()){
  const hls=new Hls();
  hls.loadSource(decodeURIComponent(url));
  hls.attachMedia(video);
}else{
  video.src=decodeURIComponent(url);
}

/* AUTOPLAY SAFE */
video.muted=true;
video.play().catch(()=>{});

/* UNMUTE ON USER PLAY */
video.addEventListener("play",()=>{
  video.muted=false;
});

const bigPlay=document.getElementById("bigPlay");
const playPause=document.getElementById("playPause");
const controls=document.getElementById("controls");
const progress=document.getElementById("progress");
const fill=document.getElementById("fill");
const thumb=document.getElementById("thumb");
const timer=document.getElementById("timer");
const speed=document.getElementById("speed");
const player=document.getElementById("player");

bigPlay.onclick=()=>video.play();
video.onplay=()=>{bigPlay.classList.add("hide");playPause.textContent="â¸";}
video.onpause=()=>{bigPlay.classList.remove("hide");playPause.textContent="â–¶";}
playPause.onclick=e=>{e.stopPropagation();video.paused?video.play():video.pause();}

function fmt(t){
  let h=Math.floor(t/3600),
      m=Math.floor((t%3600)/60),
      s=Math.floor(t%60);
  return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
}

video.ontimeupdate=()=>{
  if(!video.duration) return;
  let p=(video.currentTime/video.duration)*100;
  fill.style.width=p+"%";
  thumb.style.left=p+"%";
  timer.textContent=`${fmt(video.currentTime)} / ${fmt(video.duration)}`;
};

let drag=false;
thumb.onmousedown=thumb.ontouchstart=e=>{e.preventDefault();drag=true;}
document.onmousemove=document.ontouchmove=e=>{
  if(!drag) return;
  let r=progress.getBoundingClientRect();
  let x=(e.touches?e.touches[0].clientX:e.clientX)-r.left;
  x=Math.max(0,Math.min(r.width,x));
  let pct=x/r.width;
  fill.style.width=pct*100+"%";
  thumb.style.left=pct*100+"%";
};
document.onmouseup=document.ontouchend=()=>{
  if(drag){
    video.currentTime=(parseFloat(fill.style.width)/100)*video.duration;
    drag=false;
  }
};

speed.onchange=()=>video.playbackRate=speed.value;

player.onclick=()=>controls.classList.toggle("hide");

player.ondblclick=e=>{
  let x=e.clientX-player.getBoundingClientRect().left;
  x>player.clientWidth/2?video.currentTime+=10:video.currentTime-=10;
};

document.getElementById("back10").onclick=e=>{
  e.stopPropagation();video.currentTime-=10;
};
document.getElementById("fwd10").onclick=e=>{
  e.stopPropagation();video.currentTime+=10;
};

document.getElementById("fsBtn").onclick=e=>{
  e.stopPropagation();
  player.style.position="fixed";
  player.style.inset="0";
  player.style.zIndex="9999";
};
</script>

</body>
</html>